<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ò—Ö –•–∞—Ä –°“Ø–ª–¥ - AI –¢—É—Å–ª–∞–≥—á</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    .chat-container { max-width: 800px; margin: 0 auto; }
    .message-user { background: #3b82f6; color: white; border-radius: 20px 20px 5px 20px; align-self: flex-end; }
    .message-bot { background: #e5e7eb; color: #111; border-radius: 20px 20px 20px 5px; align-self: flex-start; }
  </style>
</head>
<body class="bg-gradient-to-br from-slate-100 to-blue-50 min-h-screen flex flex-col">

  <header class="bg-gradient-to-r from-blue-800 to-indigo-900 text-white p-6 text-center shadow-lg">
    <h1 class="text-3xl font-bold flex items-center justify-center gap-4">
      <span>üõ°Ô∏è</span> –ò—Ö –•–∞—Ä –°“Ø–ª–¥ AI –¢—É—Å–ª–∞–≥—á
    </h1>
    <p class="text-lg mt-2 opacity-90">–¢–∞–Ω–¥ —é—É–≥–∞–∞—Ä —Ç—É—Å–ª–∞—Ö –≤—ç?</p>
  </header>

  <div id="messages" class="flex-1 overflow-y-auto p-6 space-y-4 chat-container flex flex-col"></div>

  <div class="p-4 bg-white shadow-lg">
    <div class="flex gap-3 max-w-4xl mx-auto">
      <input id="input" type="text" placeholder="–ê—Å—É—É–ª—Ç–∞–∞ –±–∏—á–Ω—ç “Ø“Ø..." class="flex-1 px-6 py-4 rounded-full border border-gray-300 focus:outline-none focus:ring-4 focus:ring-blue-400 text-lg">
      <button onclick="send()" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-4 rounded-full font-bold text-lg transition">
        –ò–ª–≥—ç—ç—Ö
      </button>
    </div>
  </div>

  <script>
    const webhookUrl = 'https://enkhtur.app.n8n.cloud/webhook-test/suld-ai'; // —ç–Ω–¥ —à–∏–Ω—ç webhook URL –æ—Ä—É—É–ª
    const messages = document.getElementById('messages');
    const input = document.getElementById('input');

    // –ê–Ω—Ö–Ω—ã –º–µ—Å—Å–µ–∂
    addBotMessage('–°–∞–π–Ω –±–∞–π–Ω–∞ —É—É! üõ°Ô∏è –¢–∞–Ω–¥ —é—É–≥–∞–∞—Ä —Ç—É—Å–ª–∞—Ö –≤—ç?');

    async function send() {
      const text = input.value.trim();
      if (!text) return;

      addUserMessage(text);
      input.value = '';
      input.disabled = true;

      try {
        const res = await fetch(webhookUrl, {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ message: text })
        });

        const data = await res.json();
        addBotMessage(data.reply || '–•–∞—Ä–∏—É –∞–ª–≥–∞.');
      } catch (err) {
        addBotMessage('–ê–ª–¥–∞–∞: ' + err.message);
      }

      input.disabled = false;
      input.focus();
    }

    function addUserMessage(text) {
      const div = document.createElement('div');
      div.className = 'message-user max-w-md px-6 py-4 shadow-lg';
      div.textContent = text;
      messages.appendChild(div);
      messages.scrollTop = messages.scrollHeight;
    }

    function addBotMessage(text) {
      const div = document.createElement('div');
      div.className = 'message-bot max-w-md px-6 py-4 shadow-lg';
      div.textContent = text;
      messages.appendChild(div);
      messages.scrollTop = messages.scrollHeight;
    }

    input.addEventListener('keypress', e => e.key === 'Enter' && send());
  </script>

</body>
</html>