<!DOCTYPE html>
<html lang="mn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>–ò—Ö –•–∞—Ä –°“Ø–ª–¥ - –£—Ö–∞–∞–ª–∞–≥ –¢—É—Å–ª–∞–≥—á</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
  <style>
    .glass { background: rgba(255, 255, 255, 0.97); backdrop-filter: blur(16px); border: 1px solid rgba(255,255,255,0.3); }
    .gradient-header { background: linear-gradient(135deg, #1e3a8a 0%, #1e40af 50%, #3b82f6 100%); }
    .chat-bubble-user { background: #3b82f6; color: white; align-self: end; }
    .chat-bubble-bot { background: #e5e7eb; color: #111; align-self: start; }
  </style>
</head>
<body class="h-full bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100">

<div class="min-h-screen flex flex-col">
  <header class="gradient-header text-white p-6 text-center shadow-xl">
    <h1 class="text-4xl font-bold flex items-center justify-center gap-4">
      <span class="material-icons-round text-6xl">smart_toy</span>
      –ò—Ö –•–∞—Ä –°“Ø–ª–¥ AI –¢—É—Å–ª–∞–≥—á
    </h1>
    <p class="text-xl mt-2">–¢–∞–Ω–¥ —é—É–≥–∞–∞—Ä —Ç—É—Å–ª–∞—Ö –≤—ç? üõ°Ô∏è</p>
  </header>

  <div id="chat-messages" class="flex-1 overflow-y-auto p-6 space-y-4"></div>

  <div class="p-6 glass mx-4 mb-4 rounded-3xl shadow-2xl">
    <div class="flex gap-4">
      <input id="user-input" type="text" placeholder="–ê—Å—É—É–ª—Ç–∞–∞ –±–∏—á–Ω—ç “Ø“Ø..." class="flex-1 px-6 py-4 rounded-2xl border border-gray-300 focus:outline-none focus:ring-4 focus:ring-blue-400 text-xl">
      <button onclick="sendMessage()" class="bg-gradient-to-r from-blue-600 to-indigo-700 text-white px-8 py-4 rounded-2xl font-bold text-xl shadow-lg hover:scale-105 transition">
        –ò–ª–≥—ç—ç—Ö
      </button>
    </div>
  </div>
</div>

<script>
  const webhookUrl = 'https://enkhtur.app.n8n.cloud/webhook/956a3561-2f91-4b22-94d2-daaeefb400fa/chat'; // —ç–Ω–¥ —à–∏–Ω—ç webhook URL-—ç—ç –æ—Ä—É—É–ª (–∂–∏—à—ç—ç: /suld-chat —Ö“Ø—Ä—Ç—ç–ª)
  const messagesDiv = document.getElementById('chat-messages');
  const input = document.getElementById('user-input');

  // –ê–Ω—Ö–Ω—ã –º–µ—Å—Å–µ–∂
  addMessage('bot', '–°–∞–π–Ω –±–∞–π–Ω–∞ —É—É! üõ°Ô∏è –¢–∞–Ω–¥ —é—É–≥–∞–∞—Ä —Ç—É—Å–ª–∞—Ö –≤—ç?');

  async function sendMessage() {
    const text = input.value.trim();
    if (!text) return;

    addMessage('user', text);
    input.value = '';
    input.disabled = true;

    try {
      const response = await fetch(webhookUrl, {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ message: text })
      });

      const data = await response.json();
      const botReply = data.reply || '–•–∞—Ä–∏—É –∏—Ä—Å—ç–Ω–≥“Ø–π.';
      addMessage('bot', botReply);
    } catch (err) {
      addMessage('bot', '–ê–ª–¥–∞–∞ –≥–∞—Ä–ª–∞–∞: ' + err.message);
    }

    input.disabled = false;
    input.focus();
  }

  function addMessage(sender, text) {
    const bubble = document.createElement('div');
    bubble.className = `max-w-lg px-6 py-4 rounded-3xl shadow-lg ${sender === 'user' ? 'chat-bubble-user' : 'chat-bubble-bot'}`;
    bubble.textContent = text;
    messagesDiv.appendChild(bubble);
    messagesDiv.scrollTop = messagesDiv.scrollHeight;
  }

  input.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') sendMessage();
  });
</script>

</body>
</html>